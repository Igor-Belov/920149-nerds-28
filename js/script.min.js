var button_write_us=document.querySelector(".button-adress"),popup_write_us=document.querySelector(".write-us"),popup_write_us_close=document.querySelector(".write-us .button-close"),form_write_us=document.querySelector(".form-write-us"),input_name=document.querySelector(".write-us .input[name=name]"),input_email=document.querySelector(".write-us .input[name=email]"),input_textarea=document.querySelector(".write-us .input[name=textarea]"),isStorageSupport=!0,storage_name="",storage_email="";try{storage_name=localStorage.getItem("name"),storage_email=localStorage.getItem("email")}catch(e){isStorageSupport=!1}button_write_us.addEventListener("click",function(e){e.preventDefault(),popup_write_us.classList.remove("popup-off"),popup_write_us.classList.add("popup-animation"),storage_name?(input_name.value=storage_name,input_email.focus(),storage_email&&(input_email.value=storage_email,input_textarea.focus())):input_name.focus()}),popup_write_us_close.addEventListener("click",function(){popup_write_us.classList.add("popup-off"),popup_write_us.classList.remove("popup-error"),popup_write_us.classList.remove("popup-animation")}),form_write_us.addEventListener("submit",function(e){input_name.value&&input_email.value&&input_textarea.value?isStorageSupport&&(localStorage.setItem("name",input_name.value),localStorage.setItem("email",input_email.value)):(e.preventDefault(),popup_write_us.classList.remove("popup-error"),popup_write_us.offsetWidth=input_name.offsetWidth,popup_write_us.classList.add("popup-error"),input_name.value||input_name.classList.add("input-error"),input_email.value||input_email.classList.add("input-error"),input_textarea.value||input_textarea.classList.add("input-error"))}),input_name.addEventListener("click",function(){input_name.classList.remove("input-error")}),input_email.addEventListener("click",function(){input_email.classList.remove("input-error")}),input_textarea.addEventListener("click",function(){input_textarea.classList.remove("input-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popup_write_us.classList.contains("popup-off")||(e.preventDefault(),popup_write_us.classList.add("popup-off"),popup_write_us.classList.remove("popup-error"),popup_write_us.classList.remove("popup-animation")))});
